{% extends "base.html" %}
{% load i18n %}
{% load socialaccount %} {# Needed for provider login URLs #}

{% block content %}
<div class="max-w-3xl mx-auto mt-12 p-6 bg-white rounded-2xl shadow-lg">
    <h1 class="text-2xl font-bold text-gray-800 mb-6">{% trans "Connected Accounts" %}</h1>

    {% if form.accounts %}
        <ul class="space-y-4">
            {% for account in form.accounts %}
                <li class="flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-4">
                    <div>
                        <p class="font-medium text-gray-800">{{ account.get_provider_display }}</p>
                        <p class="text-sm text-gray-500">{{ account }}</p>
                    </div>
                    <form method="post" action="{% url 'socialaccount_connections' %}">
                        {% csrf_token %}
                        <input type="hidden" name="account" value="{{ account.pk }}">
                        <button type="submit" class="px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors">
                            {% trans "Remove" %}
                        </button>
                    </form>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-gray-500 mb-6">{% trans "You have no connected social accounts." %}</p>
    {% endif %}

    <div class="mt-8">
        <a href="{% provider_login_url 'google' process='connect' %}" 
           class="inline-flex items-center px-5 py-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg shadow-md transition-colors">
            <svg class="w-5 h-5 mr-2" viewBox="0 0 48 48">
                <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.37 2.23 29.94 0 24 0 14.61 0 6.36 5.33 2.55 13.05l7.98 6.2C12.33 12.4 17.77 9.5 24 9.5z"/>
                <path fill="#4285F4" d="M46.1 24.5c0-1.59-.14-3.13-.41-4.62H24v9.11h12.4c-.53 2.83-2.13 5.23-4.53 6.82l7.05 5.46c4.12-3.8 6.48-9.4 6.48-15.77z"/>
                <path fill="#FBBC05" d="M10.53 28.85c-.91-2.72-.91-5.68 0-8.4l-7.98-6.2C.9 17.18 0 20.47 0 24s.9 6.82 2.55 9.75l7.98-6.2z"/>
                <path fill="#34A853" d="M24 48c6.48 0 11.92-2.13 15.89-5.78l-7.05-5.46c-2.01 1.35-4.6 2.14-7.34 2.14-6.23 0-11.67-3.9-13.47-9.29l-7.98 6.2C6.36 42.67 14.61 48 24 48z"/>
                <path fill="none" d="M0 0h48v48H0z"/>
            </svg>
            {% trans "Connect Google" %}
        </a>
    </div>
</div>
{% endblock %}
